
include "smart-b-hightech-2040.conf"

beam.agentsim.simulationName = "hl-pooling-study-paper/batch1/base"
beam.agentsim.schedulerParallelismWindow = 30
beam.agentsim.lastIteration = 15

#beam.agentsim.agentSampleSizeAsFractionOfPopulation = 0.01

// ridehail supply
beam.agentsim.agents.rideHail.initialization.procedural.fractionOfInitialVehicleFleet = 0.033 ## variable

// allocation manager
beam.agentsim.agents.rideHail.allocationManager.name="POOLING_ALONSO_MORA"
beam.agentsim.agents.rideHail.allocationManager.requestBufferTimeoutInSeconds = 300
beam.agentsim.agents.rideHail.allocationManager.matchingAlgorithm = "ASYNC_GREEDY_VEHICLE_CENTRIC_MATCHING"
beam.agentsim.agents.rideHail.allocationManager.maxWaitingTimeInSec = 1200 ## variable
beam.agentsim.agents.rideHail.allocationManager.maxExcessRideTime = 0.5 ## variable
beam.agentsim.agents.rideHail.allocationManager.alonsoMora.maxRequestsPerVehicle = 4
// repositioning manager
beam.agentsim.agents.rideHail.repositioningManager.name="INVERSE_SQUARE_DISTANCE_REPOSITIONING_FACTOR"
beam.agentsim.agents.rideHail.repositioningManager.inverseSquareDistanceRepositioningFactor.sensitivityOfRepositioningToDemand = 0.2 ## variable
beam.agentsim.agents.rideHail.repositioningManager.inverseSquareDistanceRepositioningFactor.sensitivityOfRepositioningToDistance = 0.88668
beam.agentsim.agents.rideHail.repositioningManager.inverseSquareDistanceRepositioningFactor.predictionHorizon = 3600
// skimmer
beam.router.skim = {
  h3Resolution = 6
  keepKLatestSkims = 1
  writeSkimsInterval = 5
  writeAggregatedSkimsInterval = 5
  travel-time-skimmer {
    name = "travel-time-skimmer"
    fileBaseName = "skimsTravelTimeObservedVsSimulated"
  }
  origin_destination_skimmer {
    name = "od-skimmer"
    fileBaseName = "skimsOD"
    writeAllModeSkimsForPeakNonPeakPeriodsInterval = 0
    writeFullSkimsInterval = 0
  }
  taz-skimmer {
    name = "taz-skimmer"
    fileBaseName = "skimsTAZ"
  }
}

beam.debug.debugEnabled = true
beam.debug.actor.logDepth = 15
beam.debug.stuckAgentDetection.enabled = true