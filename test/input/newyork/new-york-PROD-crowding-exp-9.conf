include "../common/akka.conf"
include "../common/akka-router.conf"
include "../common/metrics.conf"
include "../common/matsim.conf"

include "new-york-PROD-baseline.conf"

beam.agentsim.simulationName = "nyc-200k-crowding-exp9-2-skims-write-all"

beam.agentsim.agents.population.industryRemovalProbabilty.enabled = true
beam.agentsim.agents.population.industryRemovalProbabilty.inputFilePath = ${beam.inputDirectory}"/industry-removal-probability--74.csv"
beam.agentsim.agents.population.industryRemovalProbabilty.removalStrategy = "KeepPersonButRemoveAllActivities"


beam.agentsim.agents.tripBehaviors.mulitnomialLogit.additional_trip_utility = -36.5

beam.agentsim.agents.modalBehaviors.mulitnomialLogit.params.ride_hail_intercept = -30
beam.agentsim.agents.modalBehaviors.mulitnomialLogit.params.ride_hail_pooled_intercept = -1000

beam.agentsim.agents.modalBehaviors.transitVehicleTypeVOTMultipliers = ["BUS-DEFAULT:0.1","RAIL-DEFAULT:9","SUBWAY-DEFAULT:9"]

beam.replanning.clearModes.modes = ["walk_transit", "drive_transit", "ride_hail_transit"]
beam.replanning.clearModes.iteration = 1
#clear mode strategy options: AtBeginningOfIteration | AtBeginningAndAllSubsequentIterations
beam.replanning.clearModes.strategy = "AtBeginningOfIteration"

beam.agentsim.agents.modalBehaviors.mulitnomialLogit.params.transit_crowding_VOT_multiplier = 500
beam.agentsim.agents.modalBehaviors.mulitnomialLogit.params.transit_crowding_VOT_threshold = 0.0

beam.router.skim = {
  keepKLatestSkims = 2
  writeSkimsInterval = 1
  writeAggregatedSkimsInterval = 1
}

beam.beamskimmer.writeObservedSkimsInterval = 1
beam.beamskimmer.writeAllModeSkimsForPeakNonPeakPeriodsInterval = 1
beam.beamskimmer.writeObservedSkimsPlusInterval = 1
beam.beamskimmer.writeFullSkimsInterval = 1
beam.outputs.writeEventsInterval = 1

beam.agentsim.firstIteration = 0
beam.agentsim.lastIteration = 5